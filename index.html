<!DOCTYPE html>
<style>
  #progress_bar {
    margin: 10px 0;
    padding: 3px;
    border: 1px solid #000;
    font-size: 14px;
    clear: both;
    opacity: 0;
    -moz-transition: opacity 1s linear;
    -o-transition: opacity 1s linear;
    -webkit-transition: opacity 1s linear;
  }
  #progress_bar.loading {
    opacity: 1.0;
  }
  #progress_bar .percent {
    background-color: #99ccff;
    height: auto;
    width: 0;
  }
</style>

<body>

  <input type="file" id="files" name="file" />
  <div id="progress_bar"><div class="percent">0%</div></div>

  <canvas id="canvas" width="600" height="600"></canvas>

  <script src="./objReader.js" charset="utf-8"></script>
  <script src="./3d.js" charset="utf-8"></script>
  <script src="./myCanvas.js" charset="utf-8"></script>

  <script charset="utf-8">

    var canvas = new myCanvas('canvas');
    var objReader = new objReader();

    objReader.objLoadEnd(function(vertices, faces){
      var obj = new object(vertices, faces);

      canvas.setDragListener(function(xd, yd){
        obj.rotateX3D(yd);
        obj.rotateY3D(xd);
        obj.draw(100);
      })

    })

    document.getElementById('files').addEventListener('change', objReader.handleFileSelect, false);

  </script>


</body>
