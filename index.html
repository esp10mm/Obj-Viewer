<!DOCTYPE html>
<html>
  <head>
    <title>Obj Viewer</title>
    <link rel="stylesheet" type="text/css" href="./css/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="./css/index.css">
  </head>


  <body>

    <!-- <input type="file" id="files" name="file" /> -->
    <!-- <div id="progress_bar"><div class="percent">0%</div></div> -->

    <div class="ui main basic segment">
      <div class="ui main menu">
        <a class="file item" onclick="activeItem('file')">
          <i class="sign in icon"></i> Import
        </a>
        <a class="item" onclick="activeItem('objects')">
          <i class="cubes icon"></i> Objects
        </a>
        <a class="item">
          <i class="globe icon"></i> Browse
        </a>
      </div>

      <div class="canvas wrapper">
        <canvas id="canvas"></canvas>
      </div>

      <div class="ui file panel secondary inverted compact segment">
        <div class="ui panelTitle basic segment">
          <div class="ui small yellow header">
            Import
          </div>
        </div>
        <i class="panel red remove icon"></i>
        <br>
        <div class="ui tertiary inverted panelContent segment">
          <h4 class="ui header">
            <i class="tiny yellow folder open icon"></i>
            From File
          </h4>
          <form class="ui form">
            &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;
            <label class="ui icon button" onclick="choosefile()">
                  <i(class="file icon")></i>
                  Open
            </label>
            <input type="file" id="file" name="file" style="display:none"/>
          </form>
        </div>
      </div>

      <div class="ui objects panel secondary inverted compact segment">
        <div class="ui panelTitle basic segment">
          <div class="ui small yellow header">
            Objects
          </div>
        </div>
        <i class="panel red remove icon"></i>
        <br>
        <div class="ui tertiary inverted panelContent segment">

          <i class="big yellow cube icon"></i>
          <div class="ui selection dropdown">
            <input type="hidden" name="selectedObj">
            <div class="default text">Select An Object</div>
            <i class="dropdown icon"></i>
            <div class="objects menu"></div>
          </div>

          <div class="ui objects operate basic segment">
            <div class="ui red objects remove button">
              <i class="trash outline icon"></i>
              Remove
            </div>
          </div>

        </div>
      </div>

    </div>

    <script src="./js/jquery-2.1.3.min.js" charset="utf-8"></script>
    <script src="./js/math.min.js" charset="utf-8"></script>
    <script src="./js/semantic.min.js" charset="utf-8"></script>

    <script src="./js/myobjReader.js" charset="utf-8"></script>
    <script src="./js/my3d.js" charset="utf-8"></script>
    <script src="./js/myUI.js" charset="utf-8"></script>
    <script src="./js/myCanvas.js" charset="utf-8"></script>

    <script charset="utf-8">
      var objReader = new objReader();
      var canvas = new myCanvas('canvas');
      var space = new space('canvas');

      canvas.setDragListener(function(xd, yd){
        space.moveCam(xd, yd);
      })

      var objects = []

      objReader.objLoadEnd(function(vertices, faces){
        space.importObject(vertices, faces);
        objects = space.getObjects();
        updateUI(objects);
        document.getElementById('file').value='';
      })

      document.getElementById('file').addEventListener('change', objReader.handleFileSelect, false);

    </script>
  </body>
</html>
